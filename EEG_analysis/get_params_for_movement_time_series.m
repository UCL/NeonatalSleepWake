function params = get_params_for_movement_time_series(input_gui)

params = struct('movement_threshold_std', 3.0, ...
    'light_threshold_std', 5.0, ...
    'duration_min', 40 * 1e-3, ...
    'duration_max', 10000 * 1e-3, ...
    'interval_limit', 500 * 1e-3, ...
    'period_after_end', 500 * 1e-3);

if input_gui

    prompt = {...
        'movement std threshold',...
        'light std threshold',...
        'min event duration (s)',...
        'max event duration (s)',...
        'min time between events (s)',...
        'event decay time (s)'};
    dlgtitle = 'Parameters for movement event detection';
    dims = [1 30];
    definput = {...
        num2str(params.movement_threshold_std), ...
        num2str(params.light_threshold_std), ...
        num2str(params.duration_min), ...
        num2str(params.duration_max), ...
        num2str(params.interval_limit), ...
        num2str(params.period_after_end)};

    result = inputdlg(prompt, dlgtitle, dims, definput, 'on');

    params.movement_threshold_std = str2num(result{1});
    params.light_threshold_std = str2num(result{2});
    params.duration_min = str2num(result{3});
    params.duration_max = str2num(result{4});
    params.interval_limit = str2num(result{5});
    params.period_after_end = str2num(result{6});
end

end